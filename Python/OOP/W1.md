# Write a program that reads a file and checks that brackets (ie ( and ), < and >, { and } and [ and ]) are balanced, ie there should never be a situation where there are more right brackets of a particular type than there are corresponding left brackets and the total number of right brackets should equal the number of left brackets (You do not need to consider the interleaving of different bracket types). Your program should return the total number of each bracket and a message indicating whether or not the file has balanced brackets.
# Save this program as p19p3.py.

# Program to check if brackets in a file are balanced
# Checks bracket types: () <> {} []

# Get filename from user
filename = input("Enter the filename to check: ")

# Open and read the file
try:
    file = open(filename, 'r', encoding='utf-8')
    content = file.read()
    file.close()
except:
    print("Cannot open file!")
    exit()

# Initialize counters
left_paren = 0    # (
right_paren = 0   # )
left_angle = 0    # <
right_angle = 0   # >
left_curly = 0    # {
right_curly = 0   # }
left_square = 0   # [
right_square = 0  # ]

# Loop through file content and count each bracket type
for char in content:
    if char == '(':
        left_paren = left_paren + 1
    elif char == ')':
        right_paren = right_paren + 1
    elif char == '<':
        left_angle = left_angle + 1
    elif char == '>':
        right_angle = right_angle + 1
    elif char == '{':
        left_curly = left_curly + 1
    elif char == '}':
        right_curly = right_curly + 1
    elif char == '[':
        left_square = left_square + 1
    elif char == ']':
        right_square = right_square + 1

# Display bracket counts
print("\nBracket counts:")
print("Parentheses: ( =", left_paren, ", ) =", right_paren)
print("Angle brackets: < =", left_angle, ", > =", right_angle)
print("Curly braces: { =", left_curly, ", } =", right_curly)
print("Square brackets: [ =", left_square, ", ] =", right_square)

# Check if brackets are balanced
balanced = True

print("\nBalance check:")
if left_paren == right_paren:
    print("Parentheses: Balanced (", left_paren, "pairs)")
else:
    print("Parentheses: NOT balanced (", left_paren, "left,", right_paren, "right)")
    balanced = False

if left_angle == right_angle:
    print("Angle brackets: Balanced (", left_angle, "pairs)")
else:
    print("Angle brackets: NOT balanced (", left_angle, "left,", right_angle, "right)")
    balanced = False

if left_curly == right_curly:
    print("Curly braces: Balanced (", left_curly, "pairs)")
else:
    print("Curly braces: NOT balanced (", left_curly, "left,", right_curly, "right)")
    balanced = False

if left_square == right_square:
    print("Square brackets: Balanced (", left_square, "pairs)")
else:
    print("Square brackets: NOT balanced (", left_square, "left,", right_square, "right)")
    balanced = False

# Display final result
print("\nFinal result:")
if balanced:
    print("All brackets are balanced!")
else:
    print("Brackets are NOT balanced!")


