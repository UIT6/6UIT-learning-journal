
# 中英对照速查
| English           | 中文   |
| ----------------- | ---- |
| Join              | 连接   |
| Cartesian Product | 笛卡尔积 |
| Selection         | 选择   |
| Projection        | 投影   |
| Natural Join      | 自然连接 |
| Intersection      | 交集   |

**Notes:**
* Join = Cartesian product + Selection
* Natural Join 是 Join 的特殊情况，对“共有属性”做等值连接，并消除重复列

---


| English             | 中文     |
| ------------------- | ------ |
| Union               | 并集     |
| Difference          | 差集     |
| Intersection        | 交集     |
| R ∩ S = R - (R - S) | 交集定义公式 |

| English                                  | 中文           |
| ---------------------------------------- | ------------ |
| SQL                                      | 商用查询语言       |
| Data Definition Language (DDL)           | 数据定义语言       |
| Semantic Integrity Constraints / 语义完整性约束 | 数据必须满足的约束条件  |
| Immediate / Deferred                     | 立即检查 / 延迟检查  |
| Attribute Constraints                    | 单属性约束        |
| Multiple Attribute Constraints           | 多属性约束        |
| Functional Dependencies                  | 函数依赖         |
| Cardinality Constraints                  | 基数约束         |
| Aggregation Constraints                  | 聚合约束         |
| Referential Integrity / 外键约束             | 多表约束，保证引用完整性 |



# 课堂笔记

## Relational Algebra / 关系代数 (Derived operations / 派生操作)

### Join / 连接

* **Definition / 定义**:
  Join of two relations $R$ and $S$ based on a predicate $F$, indicated $R \bowtie_F S$, is defined as $σ_F(R × S)$
  两个关系 $R$ 和 $S$ 基于条件 $F$ 的连接 = 笛卡尔积 + 选择
* **Degree / 度**: 结果关系的度 = 原关系度之和
* **Example / 示例**: EMPLOYEES × DEPARTMENTS

  * EMPLOYEES: Emp#, Name, Job, Start\_Date, Salary, Bonus, Dept#
  * DEPARTMENTS: Dept#, Name\_Dept, Office, Division, Manager, ManagerSal

---

### Natural Join / 自然连接

* **Definition / 定义**:
  A natural join is a join where "common" attributes (often foreign keys / 外键) must have the same value
  自然连接：连接基于两个关系中所有同名属性的相等关系

* **Notation / 符号**: $R \bowtie S$ （省略了条件，默认对公共属性做等值连接）
* **特点**:

  * 去除重复列+等值连接
  * 自然连接是连接（常见类型：条件θ-连接、等值连接、自然连接）的一种特殊形式。
  * 如果要写 SQL 或引用列名，自然连接写表的顺序就要注意。（但是，投影中如果你根本不包含相等键，顺序就不再影响结果列。）
---

### Intersection / 交集

* **Definition / 定义**: $R ∩ S = R - (R - S)$

  * Set operation / 集合操作
* **Example / 示例**:

  * R = STUDENTS-CS
  * S = STUDENTS-Science
  * R ∩ S = 学生同时属于 CS 和 Science

---

### Summary of Relational Algebra / 关系代数总结

* **Basic operations / 基本操作**: union, difference, cartesian product, selection, projection
  并可组合成复杂查询
* **Derived operations / 派生操作**: join (简化书写的符号)
* **Scope / 范围**: 仅用于查询 (query language)，不包括数据定义语言

---

### Commercial languages / 商业语言

* SQL 等包括 **DDL / 数据定义语言**
* 包括 **Semantic Integrity Constraints / 语义完整性约束**

  * Properties / 属性数据必须满足
  * Classifications / 分类:

    1. **Immediate / 即时**: 修改后立即验证
    2. **Deferred / 延迟**: 事务结束后验证

### Constraints Classification by Accessed Objects （根据约束作用对象分类）

1. **Single Relation / 单个关系**

   * **On a single tuple / 对单个元组（行）**

     * **Attribute constraints / 属性约束**

       * Example / 示例：Employee’s salary must be between 500 and 1000
       * 员工工资必须在500到1000之间
     * **Multiple attribute constraints / 多属性约束**

       * Example / 示例：Employee’s bonus must be less than salary
       * 员工奖金必须小于工资
   * **On multiple tuples / 对多个元组**

     * **Functional dependencies / 函数依赖**

       * Example / 示例：StudentID → StudentName
       * 学号决定学生姓名
     * **Cardinality constraints / 基数约束**

       * Example / 示例：There must be at least 3 technicians
       * 必须至少有3个技术员

2. **Multiple Relations / 多个关系**

   * **Aggregation constraints / 聚合约束**

     * Example / 示例：Average salary of technicians must be > 500

       * 技术员的平均工资必须大于500
   * **Referential integrity / 参照完整性（外键约束）**

     * Example / 示例：Sum of salaries of employees on project P < Project P budget

       * 所有参与项目P员工工资之和必须小于项目P预算




